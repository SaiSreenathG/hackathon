(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{131:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(8),l=a.n(r),s=a(175),c=a(171),i=a(56),u=a(89),d=a(82),p=a.n(d),m=a(83),h=a.n(m),f=Object(u.a)({palette:{primary:p.a,secondary:h.a,error:{main:i.a.A400},background:{default:"#fff"}},typography:{useNextVariants:!0,fontFamily:"Hind"},overrides:{MUIDataTable:{responsiveScroll:{maxHeight:"980px"}}}}),g=a(31),b=a(33),E=a(30),O=a(85),y=a(59),v={_id:null,name:null,email:null},S=Object(E.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOGGED_IN":return Object(y.a)({},e,{_id:t.payload._id,name:t.payload.name,email:t.payload.email});case"USER_LOGOUT":return Object(y.a)({},e,{_id:null,name:null,email:null});default:return e}}}),C=localStorage.getItem("reduxState")?JSON.parse(localStorage.getItem("reduxState")):{},w=[O.a],T=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):E.d)(E.a.apply(void 0,w)),j=Object(E.e)(S,C,T),A=a(14),x=a(39),N=a.n(x),k=a(49),_=a(19),I=a(12),P=a(22),D=a(20),U=a(21),L=a(168),G=a(174),H=a(172),W=a(170),M=a(52),R=a.n(M),J=a(169),q=a(166),F=a(5),X=function(e){function t(){var e,a;Object(_.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(P.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(o)))).state={email:"",password:""},a.handleSubmit=Object(k.a)(N.a.mark(function e(){var t,n;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://us-central1-voting-app-241814.cloudfunctions.net/login",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET, POST, PATCH, PUT, DELETE, OPTIONS","Access-Control-Allow-Headers":"Origin, Content-Type, X-Auth-Token"},body:JSON.stringify({email:a.state.email,password:a.state.password})});case 2:return t=e.sent,e.next=5,t.json();case 5:(n=e.sent)&&"success"===n.status?(a.props.loggedIn(n.data[0][0]),a.props.history.push("/dashboard")):alert(n.message);case 7:case"end":return e.stop()}},e)})),a}return Object(U.a)(t,e),Object(I.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return o.a.createElement(q.a,{component:"main",maxWidth:"xs"},o.a.createElement(s.a,null),o.a.createElement("div",{className:t.paper},o.a.createElement(L.a,{className:t.avatar},o.a.createElement(R.a,null)),o.a.createElement(J.a,{component:"h1",variant:"h5"},"Sign in"),o.a.createElement("form",{className:t.form,noValidate:!0},o.a.createElement(H.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:function(t){return e.setState({email:t.target.value})}}),o.a.createElement(H.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(t){return e.setState({password:t.target.value})}}),o.a.createElement(G.a,{fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:this.handleSubmit},"Sign In"),o.a.createElement(A.b,{to:"/signup"},o.a.createElement(J.a,{variant:"h6"},"SignUp")),o.a.createElement(W.a,{container:!0}))))}}]),t}(o.a.Component),V=Object(b.b)(function(e){return{}},{loggedIn:function(e){var t=e._id,a=e.userName,n=e.email;return function(e){e({type:"USER_LOGGED_IN",payload:{_id:t,userName:a,email:n}}),localStorage.setItem("reduxState",JSON.stringify({user:j.getState().user}))}}})(Object(F.a)(function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})(X)),$=a(55),B=function(e){function t(){var e,a;Object(_.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(P.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(o)))).getStyle=function(){return{backgroundColor:"#f4f4f4",padding:"10px",borderBottom:"1px #ccc dotted",textDecoration:a.props.todo.completed?"line-through":"none"}},a}return Object(U.a)(t,e),Object(I.a)(t,[{key:"render",value:function(){var e=this.props.todo,t=e._id,a=e.desc;return o.a.createElement("div",{style:this.getStyle()},o.a.createElement("p",null,o.a.createElement("input",{type:"checkbox",onChange:this.props.markComplete.bind(this,t)})," ","  ",a,o.a.createElement("button",{onClick:this.props.delTodo.bind(this,t),style:z},"x")))}}]),t}(n.Component),z={background:"#ff0000",color:"#fff",border:"none",padding:"5px 10px",cursor:"pointer",borderRadius:"50%",float:"right"},K=B,Q=function(e){function t(){return Object(_.a)(this,t),Object(P.a)(this,Object(D.a)(t).apply(this,arguments))}return Object(U.a)(t,e),Object(I.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.props.todos),this.props.todos.map(function(t){return o.a.createElement(K,{key:t._id,todo:t,markComplete:e.props.markComplete,delTodo:e.props.delTodo})})}}]),t}(n.Component);var Y={background:"#333",padding:"10px",textAlign:"center",color:"#fff"},Z={color:"#fff",textDecoration:"none"},ee=function(){return o.a.createElement("header",{style:Y},o.a.createElement("h1",null,"TodoList"),o.a.createElement(A.b,{style:Z,to:"/"},"Home")," |",o.a.createElement(A.b,{style:Z,to:"/about"}," About"))},te=a(48),ae=function(e){function t(){var e,a;Object(_.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(P.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(o)))).state={desc:" "},a.onChange=function(e){return a.setState(Object(te.a)({},e.target.name,e.target.value))},a.onSubmit=function(e){e.preventDefault(),a.props.addTodo(a.state.desc),a.setState({desc:""})},a}return Object(U.a)(t,e),Object(I.a)(t,[{key:"render",value:function(){return o.a.createElement("form",{onSubmit:this.onSubmit,style:{display:"flex"}},o.a.createElement("input",{type:"text",name:"desc",value:this.state.desc,onChange:this.onChange,style:{flex:"10",padding:"5"},placeholder:"Add Todo ...."}),o.a.createElement("input",{type:"submit",className:"btn",style:{flex:"1"},value:"Submit"}))}}]),t}(o.a.Component);var ne=a(43),oe=a.n(ne),re=function(e){function t(){var e,a;Object(_.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(P.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(o)))).state={todos:[]},a.handleLogout=function(){a.props.logout(),a.props.history.push("/")},a.markComplete=function(e){a.props.userId||a.props.history.push("/"),oe.a.get("https://us-central1-voting-app-241814.cloudfunctions.net/TodoUpdate?id=${id}",{headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET,HEAD,OPTIONS,POST,PUT","Access-Control-Allow-Credentials":"true"}}).then(function(t){a.setState({todos:a.state.todos.map(function(t){return t._id==e&&(t.status=!t.status),t})})})},a.delTodo=function(e){a.props.userId||a.props.history.push("/"),oe.a.delete("https://us-central1-voting-app-241814.cloudfunctions.net/TodoDelete?id=${id}",{headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET,HEAD,OPTIONS,POST,PUT,DELETE","Access-Control-Allow-Credentials":"true"}}).then(function(t){return a.setState({todos:Object($.a)(a.state.todos.filter(function(t){return t._id!==e}))})})},a.addTodo=function(e){a.props.userId||a.props.history.push("/"),console.log(e),oe.a.post("https://us-central1-voting-app-241814.cloudfunctions.net/TodoSave",{desc:e,status:!1,name:a.props.userId}).then(function(e){return a.props.history.push("/dashboard")})},a}return Object(U.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){var e=this;oe.a.get("https://us-central1-voting-app-241814.cloudfunctions.net/TodoList?name=${this.props.userId}",{headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET,HEAD,OPTIONS,POST,PUT","Access-Control-Allow-Credentials":"true"}}).then(function(t){return e.setState({todos:t.data})})}},{key:"render",value:function(){var e=this;return console.log(this.state.todos),o.a.createElement(A.a,null,o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"container"},o.a.createElement(ee,null),o.a.createElement(g.a,{exact:!0,path:"/",render:function(t){return o.a.createElement(o.a.Fragment,null,o.a.createElement(ae,{addTodo:e.addTodo}),o.a.createElement(Q,{todos:e.state.todos,markComplete:e.markComplete,delTodo:e.delTodo}))}}),o.a.createElement(g.a,null,o.a.createElement(G.a,{onClick:this.handleLogout},"Logout")))))}}]),t}(o.a.Component),le=Object(g.f)(Object(b.b)(function(e){return{userName:e.user.userName}},{logout:function(){return function(e){e({type:"USER_LOGOUT",payload:{}}),localStorage.setItem("reduxState",JSON.stringify({user:j.getState().user}))}}})(Object(F.a)(function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},textField:{width:"100%"},button:{marginRight:10}}})(re))),se=function(e){function t(){var e,a;Object(_.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(P.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(o)))).state={email:"",password:""},a.handleSubmit=Object(k.a)(N.a.mark(function e(){var t,n;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://us-central1-voting-app-241814.cloudfunctions.net/saveUser",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET, POST, PATCH, PUT, DELETE, OPTIONS","Access-Control-Allow-Headers":"Origin, Content-Type, X-Auth-Token"},body:JSON.stringify({userName:a.state.userName,email:a.state.email,password:a.state.password})});case 2:return t=e.sent,e.next=5,t.text();case 5:"Success"===(n=e.sent)?a.props.history.push("/"):alert(n);case 7:case"end":return e.stop()}},e)})),a}return Object(U.a)(t,e),Object(I.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return o.a.createElement(q.a,{component:"main",maxWidth:"xs"},o.a.createElement(s.a,null),o.a.createElement("div",{className:t.paper},o.a.createElement(L.a,{className:t.avatar},o.a.createElement(R.a,null)),o.a.createElement(J.a,{component:"h1",variant:"h5"},"Sign up"),o.a.createElement("form",{className:t.form,noValidate:!0},o.a.createElement(W.a,{container:!0,spacing:2},o.a.createElement(W.a,{item:!0,xs:12,sm:6},o.a.createElement(H.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"userName",label:"First Name",onChange:function(t){return e.setState({userName:t.target.value})},autoFocus:!0})),o.a.createElement(W.a,{item:!0,xs:12,sm:6},o.a.createElement(H.a,{variant:"outlined",fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname",onChange:function(t){return e.setState({lastName:t.target.value})}})),o.a.createElement(W.a,{item:!0,xs:12},o.a.createElement(H.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",onChange:function(t){return e.setState({email:t.target.value})}})),o.a.createElement(W.a,{item:!0,xs:12},o.a.createElement(H.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(t){return e.setState({password:t.target.value})}}))),o.a.createElement(G.a,{fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:this.handleSubmit},"Sign Up"),o.a.createElement(W.a,{container:!0,justify:"flex-end"},o.a.createElement(W.a,{item:!0},o.a.createElement(A.b,{to:"/login",variant:"body2"},"Already have an account? Sign in"))))))}}]),t}(o.a.Component),ce=Object(F.a)(function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})(se);l.a.render(o.a.createElement(b.a,{store:j},o.a.createElement(c.a,{theme:f},o.a.createElement(s.a,null),o.a.createElement(A.a,{basename:"/"},o.a.createElement(g.c,null,o.a.createElement(g.a,{exact:!0,path:"/",component:V}),o.a.createElement(g.a,{exact:!0,path:"/login",component:V}),o.a.createElement(g.a,{exact:!0,path:"/dashboard",component:le}),o.a.createElement(g.a,{exact:!0,path:"/signup",component:ce}))))),document.querySelector("#root"))},95:function(e,t,a){e.exports=a(131)}},[[95,1,2]]]);
//# sourceMappingURL=main.a2bcf817.chunk.js.map