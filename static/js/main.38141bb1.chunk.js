(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{131:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(8),s=a.n(r),l=a(175),c=a(171),i=a(55),u=a(89),d=a(82),p=a.n(d),m=a(83),h=a.n(m),f=Object(u.a)({palette:{primary:p.a,secondary:h.a,error:{main:i.a.A400},background:{default:"#fff"}},typography:{useNextVariants:!0,fontFamily:"Hind"},overrides:{MUIDataTable:{responsiveScroll:{maxHeight:"980px"}}}}),g=a(32),E=a(34),b=a(31),O=a(85),v=a(58),y={_id:null,name:null,email:null},T=Object(b.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOGGED_IN":return Object(v.a)({},e,{_id:t.payload._id,name:t.payload.name,userName:t.payload.userName,email:t.payload.email});case"USER_LOGOUT":return Object(v.a)({},e,{_id:null,name:null,email:null});default:return e}}}),w=localStorage.getItem("reduxState")?JSON.parse(localStorage.getItem("reduxState")):{},C=[O.a],S=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):b.d)(b.a.apply(void 0,C)),A=Object(b.e)(T,w,S),x=a(14),j=a(25),N=a.n(j),k=a(36),_=a(19),P=a(12),I=a(22),D=a(20),U=a(21),L=a(168),G=a(174),H=a(172),J=a(170),W=a(51),M=a.n(W),R=a(169),X=a(166),q=a(5),F=function(e){function t(){var e,a;Object(_.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(I.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(o)))).state={email:"",password:""},a.handleSubmit=Object(k.a)(N.a.mark(function e(){var t,n;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://us-central1-voting-app-241814.cloudfunctions.net/login",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET, POST, PATCH, PUT, DELETE, OPTIONS","Access-Control-Allow-Headers":"Origin, Content-Type, X-Auth-Token"},body:JSON.stringify({email:a.state.email,password:a.state.password})});case 2:return t=e.sent,e.next=5,t.json();case 5:(n=e.sent)&&"success"===n.status?(a.props.loggedIn(n.data[0][0]),a.props.history.push("/dashboard")):alert(n.message);case 7:case"end":return e.stop()}},e)})),a}return Object(U.a)(t,e),Object(P.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return o.a.createElement(X.a,{component:"main",maxWidth:"xs"},o.a.createElement(l.a,null),o.a.createElement("div",{className:t.paper},o.a.createElement(L.a,{className:t.avatar},o.a.createElement(M.a,null)),o.a.createElement(R.a,{component:"h1",variant:"h5"},"Sign in"),o.a.createElement("form",{className:t.form,noValidate:!0},o.a.createElement(H.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:function(t){return e.setState({email:t.target.value})}}),o.a.createElement(H.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(t){return e.setState({password:t.target.value})}}),o.a.createElement(G.a,{fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:this.handleSubmit},"Sign In"),o.a.createElement(x.b,{to:"/signup"},o.a.createElement(R.a,{variant:"h6"},"SignUp")),o.a.createElement(J.a,{container:!0}))))}}]),t}(o.a.Component),V=Object(E.b)(function(e){return{}},{loggedIn:function(e){var t=e._id,a=e.userName,n=e.email;return function(e){e({type:"USER_LOGGED_IN",payload:{_id:t,userName:a,email:n}}),localStorage.setItem("reduxState",JSON.stringify({user:A.getState().user}))}}})(Object(q.a)(function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})(F)),B=a(54),$=function(e){function t(){var e,a;Object(_.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(I.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(o)))).getStyle=function(){return{backgroundColor:"#f4f4f4",padding:"10px",borderBottom:"1px #ccc dotted",textDecoration:a.props.todo.completed?"line-through":"none"}},a}return Object(U.a)(t,e),Object(P.a)(t,[{key:"render",value:function(){var e=this.props.todo,t=e._id,a=e.desc;return o.a.createElement("div",{style:this.getStyle()},o.a.createElement("p",null,o.a.createElement("input",{type:"checkbox",onChange:this.props.markComplete.bind(this,t)})," ","  ",a,o.a.createElement("button",{onClick:this.props.delTodo.bind(this,t),style:z},"x")))}}]),t}(n.Component),z={background:"#ff0000",color:"#fff",border:"none",padding:"5px 10px",cursor:"pointer",borderRadius:"50%",float:"right"},K=$,Q=function(e){function t(){return Object(_.a)(this,t),Object(I.a)(this,Object(D.a)(t).apply(this,arguments))}return Object(U.a)(t,e),Object(P.a)(t,[{key:"render",value:function(){var e=this;return console.log("this.props.todos",this.props.todos),this.props.todos.map(function(t){return o.a.createElement(K,{key:t.desc,todo:t,markComplete:e.props.markComplete,delTodo:e.props.delTodo})})}}]),t}(n.Component);var Y={background:"#333",padding:"10px",textAlign:"center",color:"#fff"},Z={color:"#fff",textDecoration:"none"},ee=function(){return o.a.createElement("header",{style:Y},o.a.createElement("h1",null,"TodoList"),o.a.createElement(x.b,{style:Z,to:"/"},"Home")," |",o.a.createElement(x.b,{style:Z,to:"/about"}," About"))},te=a(48);o.a.Component;var ae=a(61),ne=a.n(ae),oe=function(e){function t(){var e,a;Object(_.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(I.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(o)))).state={currentTodo:"",todos:[]},a.handleLogout=function(){a.props.logout(),a.props.history.push("/")},a.markComplete=function(e){a.props.userId||a.props.history.push("/"),ne.a.get("https://us-central1-voting-app-241814.cloudfunctions.net/TodoUpdate?id=${id}",{headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET,HEAD,OPTIONS,POST,PUT","Access-Control-Allow-Credentials":"true"}}).then(function(t){a.setState({todos:a.state.todos.map(function(t){return t._id==e&&(t.status=!t.status),t})})})},a.delTodo=function(e){a.props.userId||a.props.history.push("/"),ne.a.delete("https://us-central1-voting-app-241814.cloudfunctions.net/TodoDelete?id=${id}",{headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET,HEAD,OPTIONS,POST,PUT,DELETE","Access-Control-Allow-Credentials":"true"}}).then(function(t){return a.setState({todos:Object(B.a)(a.state.todos.filter(function(t){return t._id!==e}))})})},a.addTodo=Object(k.a)(N.a.mark(function e(){var t,n;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.currentTodo,e.next=3,fetch("https://us-central1-voting-app-241814.cloudfunctions.net/TodoSave",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET, POST, PATCH, PUT, DELETE, OPTIONS","Access-Control-Allow-Headers":"Origin, Content-Type, X-Auth-Token"},body:JSON.stringify({desc:t,name:a.props.userName})});case 3:return n=e.sent,e.next=6,n.text();case 6:return e.abrupt("return",!1);case 7:case"end":return e.stop()}},e)})),a}return Object(U.a)(t,e),Object(P.a)(t,[{key:"componentWillMount",value:function(){var e=Object(k.a)(N.a.mark(function e(){var t,a;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://us-central1-voting-app-241814.cloudfunctions.net/TodoList?name=".concat(this.props.userName),{headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET,HEAD,OPTIONS,POST,PUT","Access-Control-Allow-Credentials":"true"}});case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,console.log("jJJJJson",a.data[0]),this.setState({todos:a.data[0]});case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return console.log(this.state.todos),o.a.createElement(x.a,null,o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"container"},o.a.createElement(ee,null),o.a.createElement("input",{type:"text",name:"desc",value:this.state.currentTodo,onChange:function(t){return e.setState({currentTodo:t.target.value})},style:{flex:"10",padding:"5"},placeholder:"Add Todo ...."}),o.a.createElement("input",{onClick:this.addTodo,className:"btn",style:{flex:"1"},value:"Submit"}),this.state.todos&&this.state.todos.length>0&&o.a.createElement(o.a.Fragment,null,o.a.createElement("h1",null,"TODOs"),o.a.createElement(Q,{todos:this.state.todos,markComplete:this.markComplete,delTodo:this.delTodo})),o.a.createElement(g.a,null,o.a.createElement(G.a,{onClick:this.handleLogout},"Logout")))))}}]),t}(o.a.Component),re=Object(g.f)(Object(E.b)(function(e){return{userName:e.user.userName}},{logout:function(){return function(e){e({type:"USER_LOGOUT",payload:{}}),localStorage.setItem("reduxState",JSON.stringify({user:A.getState().user}))}}})(Object(q.a)(function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},textField:{width:"100%"},button:{marginRight:10}}})(oe))),se=function(e){function t(){var e,a;Object(_.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(I.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(o)))).state={email:"",password:""},a.handleSubmit=Object(k.a)(N.a.mark(function e(){var t,n;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://us-central1-voting-app-241814.cloudfunctions.net/saveUser",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET, POST, PATCH, PUT, DELETE, OPTIONS","Access-Control-Allow-Headers":"Origin, Content-Type, X-Auth-Token"},body:JSON.stringify({userName:a.state.userName,email:a.state.email,password:a.state.password})});case 2:return t=e.sent,e.next=5,t.text();case 5:"Success"===(n=e.sent)?a.props.history.push("/"):alert(n);case 7:case"end":return e.stop()}},e)})),a}return Object(U.a)(t,e),Object(P.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return o.a.createElement(X.a,{component:"main",maxWidth:"xs"},o.a.createElement(l.a,null),o.a.createElement("div",{className:t.paper},o.a.createElement(L.a,{className:t.avatar},o.a.createElement(M.a,null)),o.a.createElement(R.a,{component:"h1",variant:"h5"},"Sign up"),o.a.createElement("form",{className:t.form,noValidate:!0},o.a.createElement(J.a,{container:!0,spacing:2},o.a.createElement(J.a,{item:!0,xs:12,sm:6},o.a.createElement(H.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"userName",label:"First Name",onChange:function(t){return e.setState({userName:t.target.value})},autoFocus:!0})),o.a.createElement(J.a,{item:!0,xs:12,sm:6},o.a.createElement(H.a,{variant:"outlined",fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname",onChange:function(t){return e.setState({lastName:t.target.value})}})),o.a.createElement(J.a,{item:!0,xs:12},o.a.createElement(H.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",onChange:function(t){return e.setState({email:t.target.value})}})),o.a.createElement(J.a,{item:!0,xs:12},o.a.createElement(H.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(t){return e.setState({password:t.target.value})}}))),o.a.createElement(G.a,{fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:this.handleSubmit},"Sign Up"),o.a.createElement(J.a,{container:!0,justify:"flex-end"},o.a.createElement(J.a,{item:!0},o.a.createElement(x.b,{to:"/login",variant:"body2"},"Already have an account? Sign in"))))))}}]),t}(o.a.Component),le=Object(q.a)(function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})(se);s.a.render(o.a.createElement(E.a,{store:A},o.a.createElement(c.a,{theme:f},o.a.createElement(l.a,null),o.a.createElement(x.a,{basename:"/"},o.a.createElement(g.c,null,o.a.createElement(g.a,{exact:!0,path:"/",component:V}),o.a.createElement(g.a,{exact:!0,path:"/login",component:V}),o.a.createElement(g.a,{exact:!0,path:"/dashboard",component:re}),o.a.createElement(g.a,{exact:!0,path:"/signup",component:le}))))),document.querySelector("#root"))},95:function(e,t,a){e.exports=a(131)}},[[95,1,2]]]);
//# sourceMappingURL=main.38141bb1.chunk.js.map